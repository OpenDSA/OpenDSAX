jQuery.makeSearchSummary=function(d,b,g){var c=d.toLowerCase();var f=0;$.each(b,function(){var h=c.indexOf(this.toLowerCase());if(h>-1){f=h}});f=Math.max(f-120,0);var a=((f>0)?"...":"")+$.trim(d.substr(f,240))+((f+240-d.length)?"...":"");var e=$('<div class="context"></div>').text(a);$.each(g,function(){e=e.highlightText(this,"highlighted")});return e};var Stemmer=function(){var h={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"};var e={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""};var i="[^aeiou]";var k="[aeiouy]";var a=i+"[^aeiouy]*";var g=k+"[aeiou]*";var f="^("+a+")?"+g+a;var b="^("+a+")?"+g+a+"("+g+")?$";var d="^("+a+")?"+g+a+g+a;var j="^("+a+")?"+k;this.stemWord=function(q){var l;var s;var r;var c=q;if(q.length<3){return q}var t;var o;var n;var m;r=q.substr(0,1);if(r=="y"){q=r.toUpperCase()+q.substr(1)}t=/^(.+?)(ss|i)es$/;o=/^(.+?)([^s])s$/;if(t.test(q)){q=q.replace(t,"$1$2")}else{if(o.test(q)){q=q.replace(o,"$1$2")}}t=/^(.+?)eed$/;o=/^(.+?)(ed|ing)$/;if(t.test(q)){var p=t.exec(q);t=new RegExp(f);if(t.test(p[1])){t=/.$/;q=q.replace(t,"")}}else{if(o.test(q)){var p=o.exec(q);l=p[1];o=new RegExp(j);if(o.test(l)){q=l;o=/(at|bl|iz)$/;n=new RegExp("([^aeiouylsz])\\1$");m=new RegExp("^"+a+k+"[^aeiouwxy]$");if(o.test(q)){q=q+"e"}else{if(n.test(q)){t=/.$/;q=q.replace(t,"")}else{if(m.test(q)){q=q+"e"}}}}}}t=/^(.+?)y$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(j);if(t.test(l)){q=l+"i"}}t=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/;if(t.test(q)){var p=t.exec(q);l=p[1];s=p[2];t=new RegExp(f);if(t.test(l)){q=l+h[s]}}t=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/;if(t.test(q)){var p=t.exec(q);l=p[1];s=p[2];t=new RegExp(f);if(t.test(l)){q=l+e[s]}}t=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/;o=/^(.+?)(s|t)(ion)$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(d);if(t.test(l)){q=l}}else{if(o.test(q)){var p=o.exec(q);l=p[1]+p[2];o=new RegExp(d);if(o.test(l)){q=l}}}t=/^(.+?)e$/;if(t.test(q)){var p=t.exec(q);l=p[1];t=new RegExp(d);o=new RegExp(b);n=new RegExp("^"+a+k+"[^aeiouwxy]$");if(t.test(l)||(o.test(l)&&!(n.test(l)))){q=l}}t=/ll$/;o=new RegExp(d);if(t.test(q)&&o.test(q)){t=/.$/;q=q.replace(t,"")}if(r=="y"){q=r.toLowerCase()+q.substr(1)}return q}};var Search={_index:null,_queued_query:null,_pulse_status:-1,init:function(){var b=$.getQueryParameters();if(b.q){var a=b.q[0];$('input[name="q"]')[0].value=a;this.performSearch(a)}},loadIndex:function(a){$.ajax({type:"GET",url:a,data:null,success:null,dataType:"script",cache:true})},setIndex:function(a){var b;this._index=a;if((b=this._queued_query)!==null){this._queued_query=null;Search.query(b)}},hasIndex:function(){return this._index!==null},deferQuery:function(a){this._queued_query=a},stopPulse:function(){this._pulse_status=0},startPulse:function(){if(this._pulse_status>=0){return}function a(){Search._pulse_status=(Search._pulse_status+1)%4;var b="";for(var c=0;c<Search._pulse_status;c++){b+="."}Search.dots.text(b);if(Search._pulse_status>-1){window.setTimeout(a,500)}}a()},performSearch:function(a){this.out=$("#search-results");this.title=$("<h2>"+_("Searching")+"</h2>").appendTo(this.out);this.dots=$("<span></span>").appendTo(this.title);this.status=$('<p style="display: none"></p>').appendTo(this.out);this.output=$('<ul class="search"/>').appendTo(this.out);$("#search-progress").text(_("Preparing search..."));this.startPulse();if(this.hasIndex()){this.query(a)}else{this.deferQuery(a)}},query:function(d){var m=["and","then","into","it","as","are","in","if","for","no","there","their","was","is","be","to","that","but","they","not","such","with","by","a","on","these","of","will","this","near","the","or","at"];var q=new Stemmer();var p=[];var l=[];var g=[];var z=d.split(/\s+/);var C=[];for(var w=0;w<z.length;w++){if(z[w]!=""){C.push(z[w].toLowerCase())}if($u.indexOf(m,z[w])!=-1||z[w].match(/^\d+$/)||z[w]==""){continue}var x=q.stemWord(z[w]).toLowerCase();if(x[0]=="-"){var a=l;x=x.substr(1)}else{var a=p;g.push(z[w].toLowerCase())}if(!$.contains(a,x)){a.push(x)}}var r="?highlight="+$.urlencode(g.join(" "));var B=this._index.filenames;var D=this._index.titles;var f=this._index.terms;var c={};var e=null;var h=[];var n=[];var u=[];var k=[];$("#search-progress").empty();for(var w=0;w<C.length;w++){var A=[].concat(C.slice(0,w),C.slice(w+1,C.length));var s=this.performObjectSearch(C[w],A);n=s[0].concat(n);h=s[1].concat(h);k=s[2].concat(k)}for(var w=0;w<p.length;w++){var x=p[w];if((e=f[x])==null){break}if(e.length==undefined){e=[e]}for(var t=0;t<e.length;t++){var y=e[t];if(y in c){c[y].push(x)}else{c[y]=[x]}}}for(var y in c){var o=true;if(c[y].length!=p.length){continue}for(var w=0;w<l.length;w++){if(f[l[w]]==y||$.contains(f[l[w]]||[],y)){o=false;break}}if(o){u.push([B[y],D[y],"",null])}}delete B,D,f;u.sort(function(j,i){var F=j[1].toLowerCase();var E=i[1].toLowerCase();return(F>E)?-1:((F<E)?1:0)});var s=k.concat(u).concat(n).concat(h);var v=s.length;function b(){if(s.length){var j=s.pop();var i=$('<li style="display:none"></li>');if(DOCUMENTATION_OPTIONS.FILE_SUFFIX==""){var E=j[0]+"/";if(E.match(/\/index\/$/)){E=E.substring(0,E.length-6)}else{if(E=="index/"){E=""}}i.append($("<a/>").attr("href",DOCUMENTATION_OPTIONS.URL_ROOT+E+r+j[2]).html(j[1]))}else{i.append($("<a/>").attr("href",j[0]+DOCUMENTATION_OPTIONS.FILE_SUFFIX+r+j[2]).html(j[1]))}if(j[3]){i.append($("<span> ("+j[3]+")</span>"));Search.output.append(i);i.slideDown(5,function(){b()})}else{if(DOCUMENTATION_OPTIONS.HAS_SOURCE){$.get(DOCUMENTATION_OPTIONS.URL_ROOT+"_sources/"+j[0]+".txt",function(F){if(F!=""){i.append($.makeSearchSummary(F,p,g));Search.output.append(i)}i.slideDown(5,function(){b()})},"text")}else{Search.output.append(i);i.slideDown(5,function(){b()})}}}else{Search.stopPulse();Search.title.text(_("Search Results"));if(!v){Search.status.text(_("Your search did not match any documents. Please make sure that all words are spelled correctly and that you've selected enough categories."))}else{Search.status.text(_("Search finished, found %s page(s) matching the search query.").replace("%s",v))}Search.status.fadeIn(500)}}b()},performObjectSearch:function(p,q){var o=this._index.filenames;var a=this._index.objects;var j=this._index.objnames;var s=this._index.titles;var f=[];var h=[];var g=[];for(var l in a){for(var t in a[l]){var n=(l?l+".":"")+t;if(n.toLowerCase().indexOf(p)>-1){var e=a[l][t];var b=j[e[1]][2];var r=s[e[0]];if(q.length>0){var d=(l+" "+t+" "+b+" "+r).toLowerCase();var c=true;for(var m=0;m<q.length;m++){if(d.indexOf(q[m])==-1){c=false;break}}if(!c){continue}}var k=b+_(", in ")+r;anchor=e[3];if(anchor==""){anchor=n}else{if(anchor=="-"){anchor=j[e[1]][1]+"-"+n}}result=[o[e[0]],n,"#"+anchor,k];switch(e[2]){case 1:h.push(result);break;case 0:f.push(result);break;case 2:g.push(result);break}}}}h.sort(function(u,i){return(u[1]>i[1])?-1:((u[1]<i[1])?1:0)});f.sort(function(u,i){return(u[1]>i[1])?-1:((u[1]<i[1])?1:0)});g.sort(function(u,i){return(u[1]>i[1])?-1:((u[1]<i[1])?1:0)});return[f,h,g]}};$(document).ready(function(){Search.init()});